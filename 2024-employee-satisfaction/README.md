# 2024-employee-satisfaction
Разработка двух прогностических моделей с целью предсказания уровня удовлетворенности сотрудника и вероятности его увольнения.

---

# **Проект «Разработка прогностической модели для оценки уровня удовлетворенности сотрудников с целью предсказания возможного оттока»**

---

## **Описание проекта**

HR-аналитики компании «Работа с заботой» помогают бизнесу оптимизировать управление персоналом: бизнес предоставляет данные, а аналитики предлагают, как избежать финансовых потерь и оттока сотрудников. В этом HR-аналитикам пригодится машинное обучение, с помощью которого получится быстрее и точнее отвечать на вопросы бизнеса.
Компания предоставила данные с характеристиками сотрудников компании. Среди них — уровень удовлетворённости сотрудника работой в компании. 
Собирать данные такими опросниками не так легко: компания большая, и всех сотрудников надо сначала оповестить об опросе, а затем проследить, что все его прошли. 

У нас будет несколько задач:

Первая — построить модель, которая сможет предсказать уровень удовлетворённости сотрудника на основе данных заказчика. 

Вторая задача — построить модель, которая сможет на основе данных заказчика предсказать то, что сотрудник уволится из компании.

---

## **Примененные библиотеки**

* Pandas 
* Matplotlib
* Numpy
* Seaborn
* Sklearn
* Phik
* Shap

---


## **Этапы**

**Первая задача**

**1.** Загрузка данных

**2.** Предобработка данных satisfaction

**3.** Исследовательский анализ данных

**4.** Подготовка пайплайна и обучение модели регрессии

**Вторая задача**

**5.** Предобработка данных quit

**6.** Исследовательский анализ данных в разрезе целевого признака

**7.** Подготовка пайплайна и обучение модели классификации

**8.** Общий вывод


---

## **Выводы**

### **Первая задача**

1. **Загрузка данных:**

    В ходе анализа основной информации о датафреймах было выявлено наличие пропущенных значений в столбцах `dept` и `level` как в тестовой, так и в тренировочной выборке.
    
    
    
2. **Предобработка данных satisfaction:** 

    На этапе предобработки была проведена проверка на наличие дубликатов, которые не были выявлены. Также была осуществлена проверка вариативности записей, в результате чего выявлены некорректно внесенные данные в тестовой выборке, а именно в столбцах `dept` и `workload`.
    
    
    
3. **Исследовательский анализ данных:**

    
- `dept` - Наибольшими по количеству сотрудников являются отделы продаж (37.8%), технологий (21.6%) и закупок (15.2%).
- `level` - Наиболее распространенными уровнями занимаемых должностей с большим отрывом являются junior (47.4%) и middle (43.6%), в то время как уровень senior встречается всего лишь у 9% сотрудников.
- `workload` - 51.6% сотрудников испытывают среднюю нагрузку, малую нагрузку ощущают 30%, в то время как всего 18.4% сотрудников имеют высокую нагрузку.
- `employment_years` - Более 50% сотрудников компании работают менее 4 лет. 24% сотрудников проработали лишь 1 год, в то время как всего 2.4% сотрудников остаются в компании на протяжении 10 лет.
- `last_year_promo` - Только 3% сотрудников получили повышение в должности за последний год.
- `last_year_violations` - За последнйи год 14% сотрудников нарушили трудовой договор.
- `supervisor_evaluation` - Большинство сотрудников (40.1%) получили оценку 4 по качеству работы, 31.6% имеют оценку 3, 13.7% получили оценку 5, в то время как только 5% сотрудников оценены на уровне 1.
- `salary` - Медианная зарплата составляет 30,000 рублей. 75% сотрудников получают зарплату до 43,200 рублей, при этом максимальная зарплата достигает 98,400 рублей, а минимальная составляет 12,000 рублей.
- `job_satisfaction_rate` - У нашего целевого признака(уровень удовлетворённости сотрудника работой), на графике проявляет две выраженные вершины в районах 0.38 и 0.7. Медианное значение составляет 0.56. Минимальная удовлетворенность сотрудника равна 0.03, в то время как максимальная достигает значения 1.
   
  Наибольшая корреляция с целевым признаком наблюдается у следующих показателей:
    
      1) Оценка качества работы сотрудника - 0.76
      2) Нарушение сотрудником трудового договора - 0.56
      3) Продолжительность работы в компании - 0.33
    
  Мультиколлинеарность не наблюдается

4. **Подготовка пайплайна и обучение модели регрессии**

     После проведения подбора лучшей модели и её гиперпараметров с использованием RandomizedSearchCV, была выбрана модель DecisionTreeRegressor с оптимальными гиперпараметрами: max_depth = 21, max_features = 11, min_samples_leaf = 2 и min_samples_split = 10. Мы выбрали метрику SMAPE для оценки работы модели, поскольку она учитывает точность прогнозов в обоих направлениях, устойчива к выбросам и обладает легкой интерпретируемостью. В результате подбора оптимальных параметров удалось достичь значения SMAPE на уровне 15.23% для тренировочной выборки и 13.47% для тестовой, что указывает на высокую точность модели.
 
### **Вторая задача**
  
  
5. **Предобработка данных quit:**

    В новых данных не выявлено пропусков и других аномалий.
    
    
6. **Исследовательский анализ данных в разрезе целевого признака**

    Наиболее значимые различия для уволившихся и действующих сотрудников:
    
- Среди уволившихся сотрудников преобладает уровень "junior" (88.92%), в то время как среди действующих сотрудников преобладает уровень "middle" (55.22%).
- Среди уволившихся сотрудников преобладает уровнь загруженности "низкий" (46%), в то время как среди действующих сотрудников преобладает "medium" 56%.
- У уволившихся сотрудников почти не было повышений за последний год.
- Уволившиеся сотрудники чаще нарушают трудовой договор, при этом уровень нарушений составляет 20%, в сравнении с 11% у действующих сотрудников.
- Действующие сотрудники в целом демонстрируют более высокие оценки качества своей работы по сравнению с уволившимися коллегами.
    
    Портрет уволившегося сотрудника:
    
    
        - Отдел - technology
        - Уровень занимаемой должности - junior
        - Загруженность - низкая
        - Повышение за последний год - нет
        - Нарушал трудовой договор - да
        - Длительность работы в компании - 1 год
        - Оценка качества работы - 3
        - Ежемесячная зарплата - 22800
    
    Оценка влияния удовлетворённости сотрудника на его увольнение:
    
    Мы успешно подтвердили наличие связи между уровнем удовлетворенности сотрудника и фактом увольнения. Это обоснование позволило внести новый показатель `job_satisfaction_rate` в тренировочные данные `train_quit`.
    
    
7. **Подготовка пайплайна и обучение модели классификации**
    
    После проведения подбора лучшей модели и её гиперпараметров с использованием RandomizedSearchCV, была выбрана модель DecisionTreeClassifier с оптимальными гиперпараметрами: max_depth = 6, min_samples_leaf = 21 и min_samples_split = 10. В качестве метрики для оценки производительности модели мы выбрали roc_auc, поскольку эта метрика считается наиболее универсальной и информативной при решении задач классификации. Нам удалось достичь значения 89 на обучающей выборке и 92 на тестовой. Эти результаты свидетельствуют о эффективности нашей модели в решении поставленной задачи.

    Наиболее важными для модели признаками оказались:

    - level
    - employment_years
    - job_satifaction_rate


**Общие выводы и предложения включают в себя несколько ключевых моментов. Важность оценки удовлетворенности сотрудников подтверждена. Предложенные модели успешно обучены и демонстрируют высокую точность. Рекомендуется внедрение системы мониторинга данных о сотрудниках для оперативного выявления проблем и принятия мер.
Такие практики, как регулярные обзоры загруженности, повышений и оценок качества работы, могут значительно улучшить эффективность управления персоналом. Введение программ стимулирования и мотивации сотрудников также является важным шагом для увеличения удовлетворенности и снижения риска оттока.**
